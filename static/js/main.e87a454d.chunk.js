(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(46)},33:function(e,t,n){},35:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchAnalogPosts",function(){return g}),n.d(a,"setAnalogPosts",function(){return b}),n.d(a,"addFavoritedPost",function(){return O}),n.d(a,"removeFavoritePost",function(){return k}),n.d(a,"setFavoritedPosts",function(){return j});var r=n(0),o=n.n(r),i=n(21),s=n.n(i),c=(n(33),n(4)),l=n(5),u=n(7),p=n(6),d=n(8),m=(n(35),n(48)),f=n(49),v=n(47),h=n(10),E=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"fetchAnalogPosts",value:function(){return fetch("https://www.reddit.com/r/analog/top/.json").then(function(e){return e.json()})}}]),e}(),b=function(e){return{type:"SET_ANALOG_POSTS",posts:e}},g=function(){return function(e){E.fetchAnalogPosts().then(function(t){e(b(t.data.children))})}},O=function(e){return{type:"ADD_FAVORITED_POST",post:e}},k=function(e){return{type:"REMOVE_FAVORITED_POST",post:e}},j=function(e){return{type:"SET_FAVORITED_POSTS",posts:e}},y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderButton=function(){return"no"===n.props.favorite?n.renderLikeButton():n.renderDeleteButton()},n.renderDeleteButton=function(){if(void 0!==n.props)return o.a.createElement("i",{id:n.props.title,onClick:n.handleDelete,className:"trash alternate icon delete-button"})},n.renderLikeButton=function(){return n.props.favoritedPosts.find(function(e){return e.title===n.props.title})?o.a.createElement("i",{id:n.props.title,onClick:function(e){return n.handleLike(n.props.title,n.props.imgUrl,n.props.upvotes,n.props.timeCreated,n.props.author,e)},className:"heart icon like-button liked"}):o.a.createElement("i",{id:n.props.title,onClick:function(e){return n.handleLike(n.props.title,n.props.imgUrl,n.props.upvotes,n.props.timeCreated,n.props.author,e)},className:"heart icon like-button"})},n.renderDate=function(){var e=new Date(1e3*n.props.timeCreated),t=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear(),a=(new Date).getTime()-e.getTime(),r=Math.floor(a/1e3/60/60/24),o=Math.floor(a/1e3/60/60),i=Math.floor(a/1e3/60);return"yes"===n.props.favorite?t:""===n.props.timeCreated?"?":r>7?t:1===r?"a day ago":r<1&&1===o?"1 hour ago":r<1&&o>1?"".concat(o,"  hours ago"):o<1&&i>1?"".concat(i," minutes ago"):i<1?"now":void 0},n.renderImageError=function(e){e.target.onerror=null,e.target.src="https://www.desktopbackground.org/p/2014/01/09/698675_wallpaper-reddit_1920x1200_h.jpg"},n.handleLike=function(e,t,a,r,o,i){var s=document.getElementById(i.target.id),c={data:{title:e,url:t,ups:a,created:r,author:o}};s.className.includes("liked")?s.className.includes("liked")&&(n.props.removeFavoritePost(c),s.classList.remove("liked")):(n.props.addFavoritedPost(c),s.classList.add("liked"))},n.handleDelete=function(e){var t=e.target.id,a=n.props.favoritedPosts.find(function(e){return e.data.title===t});n.props.removeFavoritePost(a)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props&&"no"===this.props.favorite){var e=this.props.title,t=this.props.favoritedPosts.find(function(t){return t.data.title===e});if(t){var n=document.getElementById(t.data.title);n.className.includes("liked")||n.classList.add("liked")}}}},{key:"render",value:function(){return o.a.createElement("div",{className:"post-card-wrapper"},o.a.createElement("img",{className:"post-image",src:this.props.imgUrl,onError:this.renderImageError,alt:"temp"}),o.a.createElement("h1",{className:"post-title"},this.props.title),o.a.createElement("div",{className:"divider-wrapper"},o.a.createElement("div",{className:"divider"})),o.a.createElement("div",{className:"post-info"},o.a.createElement("p",null,o.a.createElement("i",{className:"user icon"}),this.props.author),o.a.createElement("p",{className:"bullet"},this.props.bullet),o.a.createElement("p",null,o.a.createElement("i",{className:"clock outline icon"}),this.renderDate()),o.a.createElement("p",{className:"bullet"},this.props.bullet),o.a.createElement("p",null,o.a.createElement("i",{className:"bolt icon"}),this.props.upvotes)),o.a.createElement("div",{className:"like-button-container"},this.renderButton()))}}]),t}(o.a.Component),P=Object(h.b)(function(e){return{analogPosts:e.favoritedPosts,favoritedPosts:e.favoritedPosts}},a)(y),w=n(24),N=n.n(w),A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderAllPosts=function(e){return"yes"===n.props.favorites&&0===e.length?o.a.createElement("div",{className:"no-fav"},"no favorites yet. "):e?e.map(function(e){return o.a.createElement(P,{key:N()(),title:e.data.title,imgUrl:e.data.url,upvotes:e.data.ups,timeCreated:e.data.created,author:e.data.author,bullet:"\u2022",favorite:n.props.favorites})}):void 0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"posts-container"},this.renderAllPosts(this.props.posts))}}]),t}(o.a.Component),T=Object(h.b)(function(e){return{analogPosts:e.analogPosts}},a)(A),F=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderClassName=function(){return"yes"===n.props.active?"nav-button active":"nav-button"},n.renderIcon=function(){return"heart"===n.props.icon?o.a.createElement("i",{className:"heart icon"}):"alien"===n.props.icon?o.a.createElement("i",{className:"reddit alien icon"}):void 0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{onClick:this.props.handleClick,id:this.props.id,className:this.renderClassName()},this.renderIcon(),this.props.buttonText)}}]),t}(o.a.Component),C=n(50),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={active:"home"},n.handleClick=function(e){n.state.active!==e&&n.setState({active:e}),n.props.history.push("/"+e)},n.renderActive=function(e){return n.state.active===e?"yes":"no"},n.renderFavText=function(){return"favorites(".concat(n.props.favNum,")")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/").pop();this.setState({active:e})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"nav-bar-container"},o.a.createElement(F,{handleClick:function(){return e.handleClick("home")},active:this.renderActive("home"),id:"home",icon:"alien",buttonText:"/r/analog"}),o.a.createElement(F,{handleClick:function(){return e.handleClick("favorites")},active:this.renderActive("favorites"),id:"favorites",icon:"heart",buttonText:this.renderFavText()}))}}]),t}(o.a.Component),_=Object(C.a)(D),S=n(12),I=Object(S.a)(),x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).countFavorites=function(){return n.props.favoritedPosts.length},n.Home=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(_,{favNum:n.countFavorites()}),o.a.createElement(T,{posts:n.props.analogPosts,favorites:"no"}))},n.Favorites=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(_,{favNum:n.countFavorites()}),o.a.createElement(T,{posts:n.props.favoritedPosts,favorites:"yes"}))},n.RedirectHome=function(){return o.a.createElement(m.a,{to:"/home"})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAnalogPosts()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(f.a,{history:I},o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{exact:!0,path:"/",render:this.RedirectHome}),o.a.createElement(v.a,{exact:!0,path:"/home",render:this.Home}),o.a.createElement(v.a,{exact:!0,path:"/favorites",render:this.Favorites}))))}}]),t}(r.Component),B=Object(h.b)(function(e){return{analogPosts:e.analogPosts,favoritedPosts:e.favoritedPosts}},a)(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(11),R=n(17),M=Object(L.c)({analogPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ANALOG_POSTS":return t.posts;default:return e}},favoritedPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITED_POST":return Object(R.a)(e).concat([t.post]);case"REMOVE_FAVORITED_POST":return Object(R.a)(e).filter(function(e){return e.data.title!==t.post.data.title});case"SET_FAVORITED_POSTS":return t.posts;default:return e}}}),V=n(26),H=Object(L.d)(M,Object(L.a)(V.a));s.a.render(o.a.createElement(h.a,{store:H},o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.e87a454d.chunk.js.map